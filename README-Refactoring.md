# ITsimulator Refactoring Plan

## Новая структура проекта

```
src/
├── assets/                  # Статические ресурсы (изображения, иконки)
├── components/              # Компоненты React
│   ├── common/              # Общие переиспользуемые компоненты
│   │   ├── Button.js        
│   │   ├── Modal.js
│   │   └── ...
│   ├── dashboard/           # Компоненты панели управления
│   ├── game/                # Компоненты игрового интерфейса
│   ├── market/              # Компоненты рынка
│   ├── products/            # Компоненты для управления продуктами
│   └── ...
├── hooks/                   # Пользовательские React хуки
│   ├── useInterval.js
│   ├── useGameTick.js
│   └── ...
├── store/                   # Управление состоянием Zustand
│   ├── slices/              # Срезы (slices) для разделения логики
│   │   ├── company.js       # Срез для компании игрока
│   │   ├── market.js        # Срез для рыночной логики
│   │   ├── gameState.js     # Срез для состояния игры
│   │   └── ...
│   └── index.js             # Объединение срезов в единое хранилище
├── utils/                   # Утилиты и вспомогательные функции
│   ├── formatters.js        # Форматирование чисел, дат и т.д.
│   ├── gameLogic/           # Выделенная игровая логика
│   │   ├── calculateGrowth.js
│   │   ├── productQuality.js
│   │   └── ...
│   └── ...
├── constants/               # Константы и конфигурация игры
│   ├── gameConfig.js        # Основные параметры игры
│   ├── productTypes.js      # Типы продуктов и их параметры
│   └── ...
├── models/                  # Модели данных и типы
│   ├── Company.js
│   ├── Product.js
│   └── ...
├── App.js                   # Корневой компонент приложения
└── index.js                 # Точка входа
```

## Основные цели рефакторинга

1. **Улучшение поддерживаемости и читаемости кода**:
   - Код разделен на логические модули
   - Каждый файл имеет четкую ответственность
   - Минимизация дублирования

2. **Оптимизация управления состоянием**:
   - Zustand с разделением на срезы вместо монолитного хранилища
   - Более простая и предсказуемая логика изменения состояния
   - Уменьшение размера отдельных файлов

3. **Усовершенствование игровой механики**:
   - Вынесение игровой логики из хранилища в отдельные модули
   - Добавление возможности легко настраивать игровые параметры
   - Улучшение модели искусственного интеллекта конкурентов

4. **Подготовка к расширению функциональности**:
   - Создание абстракции для будущих компонентов
   - Модульная структура для добавления новых возможностей
   - Четкое разделение интерфейса и логики

## План реализации

1. Создание новой структуры папок
2. Разделение gameStore.js на модули
3. Рефакторинг компонентов с выделением логики в хуки
4. Улучшение организации стилей
5. Добавление комментариев и документации
6. Настройка линтеров и форматирование кода

## Преимущества нового подхода

- **Масштабируемость**: Легко добавлять новые функции без изменения существующего кода
- **Тестируемость**: Изолированные компоненты и бизнес-логика легче тестировать
- **Производительность**: Оптимизированные перерисовки и управление состоянием
- **Удобство разработки**: Четкая структура упрощает навигацию по коду
